<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=0.8" name="viewport">
    <title>Trang Đăng Ký</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"> <!-- Thêm Font Awesome -->
    <style>
        .registration-container {
            max-width: 900px;
            margin: 25px auto;
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            display: flex;
        }

        .left-section {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            color: white;
            padding: 30px;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            text-align: left;
        }

        .left-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 60%;
            height: 60%;
            background: url('https://source.unsplash.com/500x300/?tech') no-repeat center center/cover;
            opacity: 0.1;
            z-index: 0;
        }

        .left-section h1 {
            font-size: 36px;
            margin-bottom: 15px;
            font-weight: 700;
            z-index: 1;
            line-height: 1.2;
            letter-spacing: 2px;
        }

        .right-section {
            padding: 30px;
            flex: 2;
            background-color: #ffffff;
        }

        .form-floating input, .form-floating select {
            border-radius: 20px;
            background-color: #f0f4f8;
            border: 1px solid #cfd8e3;
            height: 50px;
            padding-left: 20px;
            transition: all 0.3s ease;
        }

        .form-floating label {
            padding-left: 25px;
            font-size: 14px;
            color: #888;
        }

        .btn-signup {
            background: linear-gradient(to right, #1e3a8a, #3b82f6);
            color: white;
            border: none;
            padding: 10px 0;
            border-radius: 30px;
            width: 100%;
            font-size: 16px;
            margin-top: 15px;
            box-shadow: 0 6px 15px rgba(59, 130, 246, 0.5);
            transition: all 0.4s ease;
        }

        .btn-signup:hover {
            background: linear-gradient(to right, #19317b, #347ade);
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.7);
        }

        .form-check-label {
            color: #555;
            font-size: 12px;
        }

        .password-icon {
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            cursor: pointer;
            color: #888;
        }

        /* Thông báo lỗi */
        .text-danger {
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        /* Media Queries tùy chỉnh cho tính đáp ứng */
        @media (max-width: 768px) {
            .registration-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
<main>
    <div class="container registration-container">
        <div class="left-section">
            <div class="logo">DEV MAGIC</div>
            <h1>Siêu Thị Mini</h1>
            <p>Siêu thị Devmagic là một trong những chuỗi siêu thị lớn nhất và phát triển nhanh chóng tại Việt Nam. Với tiêu chí "Mọi thứ bạn cần, trong tầm tay bạn", Devmagic không chỉ cung cấp đa dạng sản phẩm mà còn mang đến cho khách hàng những trải nghiệm mua sắm tuyệt vời nhất.</p>
        </div>

        <div class="right-section">
            <h3 class="mb-1">Tham gia cùng chúng tôi</h3>
            <p class="mb-2">Đăng ký để truy cập nội dung cao cấp của chúng tôi</p>

            <!-- Hiển thị thông báo thành công hoặc lỗi -->
            <div id="successMessage" class="alert alert-success" style="display: none;">
                Đăng ký thành công!
            </div>
            <div id="errorMessage" class="alert alert-danger" style="display: none;">
                Vui lòng kiểm tra lại thông tin của bạn.
            </div>

            <form id="registerForm">
                <div class="form-floating mb-4">
                    <input class="form-control" id="username" name="username" placeholder="Tên đăng nhập" type="text" required>
                    <label for="username">Tên đăng nhập *</label>
                    <div class="text-danger" id="usernameError">Tên đăng nhập không được để trống.</div>
                </div>
                <div class="form-floating mb-4">
                    <input class="form-control" id="password" name="password" placeholder="Mật khẩu" type="password" required>
                    <label for="password">Mật khẩu *</label>
                    <i id="togglePassword" class="fas fa-eye password-icon"></i>
                    <div class="text-danger" id="passwordError">Mật khẩu không được để trống.</div>
                </div>
                <div class="form-floating mb-4">
                    <input class="form-control" id="confirmPassword" name="confirmPassword" placeholder="Xác nhận mật khẩu" type="password" required>
                    <label for="confirmPassword">Xác nhận mật khẩu *</label>
                    <i id="toggleConfirmPassword" class="fas fa-eye password-icon"></i>
                    <div class="text-danger" id="confirmPasswordError">Mật khẩu xác nhận không khớp.</div>
                </div>
                <div class="form-floating mb-4">
                    <input class="form-control" id="email" name="email" placeholder="Email" type="email" required>
                    <label for="email">Email *</label>
                    <div class="text-danger" id="emailError">Email không hợp lệ.</div>
                </div>
                <div class="form-floating mb-4">
                    <input class="form-control" id="phoneNumber" name="phoneNumber" placeholder="Số điện thoại" type="text">
                    <label for="phoneNumber">Số điện thoại</label>
                </div>
                <div class="form-floating mb-4">
                    <input class="form-control" id="address" name="address" placeholder="Địa chỉ" type="text">
                    <label for="address">Địa chỉ</label>
                </div>
                <button type="submit" class="btn btn-signup">Đăng Ký</button>
            </form>

            <div class="mt-4 text-center">
                Bạn đã có tài khoản? <a href="/user/login">Đăng nhập</a>
            </div>
        </div>
    </div>
</main>

<script>
    document.getElementById('registerForm').addEventListener('submit', function (event) {
        let isValid = true;

        // Kiểm tra tên đăng nhập
        const username = document.getElementById('username');
        const usernameError = document.getElementById('usernameError');
        if (!username.value.trim()) {
            usernameError.style.display = 'block';
            isValid = false;
        } else {
            usernameError.style.display = 'none';
        }

        // Kiểm tra mật khẩu
        const password = document.getElementById('password');
        const passwordError = document.getElementById('passwordError');
        const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{7,15}$/;
        if (!passwordPattern.test(password.value)) {
            passwordError.textContent = 'Mật khẩu phải có chữ thường, chữ hoa,  ký tự đặc biệt,  số, mật khẩu phải từ 6 kí tự trở lên.';
            passwordError.style.display = 'block';
            isValid = false;
        } else {
            passwordError.style.display = 'none';
        }

        // Kiểm tra xác nhận mật khẩu
        const confirmPassword = document.getElementById('confirmPassword');
        const confirmPasswordError = document.getElementById('confirmPasswordError');
        if (confirmPassword.value !== password.value) {
            confirmPasswordError.style.display = 'block';
            isValid = false;
        } else {
            confirmPasswordError.style.display = 'none';
        }

        // Kiểm tra email
        const email = document.getElementById('email');
        const emailError = document.getElementById('emailError');
        const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
        if (!emailPattern.test(email.value)) {
            emailError.style.display = 'block';
            isValid = false;
        } else {
            emailError.style.display = 'none';
        }

        if (isValid) {
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('errorMessage').style.display = 'none';
        } else {
            document.getElementById('successMessage').style.display = 'none';
            document.getElementById('errorMessage').style.display = 'block';
        }

        event.preventDefault();
    });

    // Toggle mật khẩu
    document.getElementById('togglePassword').addEventListener('click', function () {
        const password = document.getElementById('password');
        password.type = password.type === 'password' ? 'text' : 'password';
    });

    document.getElementById('toggleConfirmPassword').addEventListener('click', function () {
        const confirmPassword = document.getElementById('confirmPassword');
        confirmPassword.type = confirmPassword.type === 'password' ? 'text' : 'password';
    });
</script>

</body>
</html>
