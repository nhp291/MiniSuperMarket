<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{/layout/index :: dynamic(~{::main})}">
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body class="container bg-body-secondary">
<main>
  <div class="container ">

    <div class="container mt-5">
      <div  class="row bg-white">
        <div class="col-5 ">
          <div th:if="${item.images != null and item.images.size() > 0}">
            <img id="mainImage" th:src="@{'/Image/imageUrl/' + ${item.images[0].imageUrl}}" class="card-img-top"/>
          </div>

          <div class="row mt-3">
            <div th:if="${item.images != null}" th:each="image : ${item.images}" class="col-2 border border-info p-1 mx-2 mb-2">
              <img th:src="@{'/Image/imageUrl/' + ${image.imageUrl}}" class="img-fluid"
                   onclick="changeMainImage(this.src)" />
            </div>
          </div>
          <div th:if="${item.images == null or item.images.size() == 0}">
            <p>Không có hình ảnh nào cho sản phẩm này.</p>
          </div>
        </div>
        <div class="col-7">
          <h4 class="mt-3">[[${item.name}]]</h4>
          <div class="row mt-5">
            <div class="col-4 text-secondary">
              <h5> Giá bán lẻ</h5>
            </div>
            <div class="col-7">
              <h5 th:text="${item.price}" class="text-danger">229.000 đ</h5>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-4 text-secondary">
              <h6>Tình trạng</h6>
            </div>
            <div class="col-7">
              <h6 th:text="${item.stockQuantity > 0 ? 'Còn Hàng' : 'Hết Hàng'}"></h6>
            </div>
          </div>
          <hr>
          <div class="row mt-2 my-auto">
            <div class="col-4">
              <h6 class="text-secondary">Vận chuyển</h6>
            </div>
            <div class="col-7">
              <h6>
                Miễn phí giao hàng cho đơn từ 300.000đ.
                Giao hàng trong 2 giờ.</h6>
            </div>
          </div>
          <hr>
          <div class="row mt-4">
            <div class="col-4">
              <h6 class="text-secondary">Loại</h6>
            </div>
            <div class="col-7">
              <h6>kg</h6>
            </div>
          </div>
          <div class="row my-3">
            <div class="col-4">
              <h6 class="text-secondary">Số Lượng</h6>
            </div>
            <div class="col-7">
              <h6 >[[${item.stockQuantity}]]</h6>
            </div>
          </div>
          <form id="addToCartForm-[[${p.productId}]]" class="addToCartForm">
            <input type="hidden" name="productId" th:value="${item.productId}"/>
            <input type="hidden" name="quantity" value="1"/>
            <!-- Nút "Thêm vào giỏ hàng" chỉ hiển thị nếu sản phẩm còn hàng -->
            <button type="submit" class="btn btn-primary"
                    th:if="${item.stockQuantity > 0 and username != null}">
              Thêm vào giỏ hàng
            </button>
            <!-- Nút "Hết hàng" hiển thị khi sản phẩm hết hàng -->
            <button type="button" class="btn btn-secondary"
                    th:if="${item.stockQuantity <= 0 and username != null}" disabled>
              Hết hàng
            </button>
            <button type="button" class="btn btn-secondary" th:if="${username == null}" disabled>Đăng nhập</button>
          </form>
          <div id="cartMessage" style="position: fixed; bottom: 20px; right: 20px; display: none; background-color: green; color: white; padding: 10px; border-radius: 5px; z-index: 9999;">
            Sản phẩm đã được thêm vào giỏ hàng!
          </div>
        </div>
      </div>
      <div class="row mt-5">
        <div class="col-5">
          <h3 class="mb-2">Mô Tả</h3>
        </div>
        <div class="col-7 ">
          <h3 class="mb-1">Thông Tin</h3>
        </div>
      </div>
      <div class="row bg-white">
        <div class="col-5">
          <h5 class="my-3" th:text="${item.description}"></h5>
          Bộ đôi nước súc miệng diệt khuẩn Listerine Cool Mint 750ml được sản xuất và đóng gói bởi thương hiệu Listerine – là một thương hiệu nước súc miệng sát trùng được hình thành từ năm 1914. Thương hiệu này giành được sự tán thưởng của hiệp hội nha khoa Mỹ cho sản phẩm chống vi trùng và bệnh viêm nướu răng. Với mục đích tiêu diệt vi khuẩn gây nên mảng bám răng, bệnh viêm lợi và hơi thở hôi, Listerine sử dụng hỗn hợp của 4 loại tinh dầu đặc biệt, tạo thành sản phẩm chăm sóc răng miệng dẫn đầu trong thị trường Úc và được người tiêu dùng trên khắp thế giới yêu thích.
          Bộ đôi nước súc miệng diệt khuẩn Listerine Cool Mint 750ml được sản xuất với thành phần đặc biệt có khả năng loại bỏ mảng bám, vi khuẩn trên răng, bảo vệ răng miệng suốt 12h với công thức không chứa cồn, không cay rát. Đồng thời, nước súc miệng có hương bạc hà tươi mát, giúp hơi thở thơm tho và mang lại cảm giác sảng khoái khi sử dụng.

          <h5>Hướng dẫn sử dụng và bảo quản</h5>
          Sau khi đánh răng, súc miệng trong vòng 30 giây rồi nhổ đi
          Không dùng cho trẻ em dưới 6 tuổi, không được nuốt
          Bảo quản nơi khô ráo, thoáng mát, tránh ánh nắng trực tiếp và nhiệt độ cao
          <h5>Lưu ý:</h5>

          <h6 class="text-danger">
            - Hạn sử dụng thực tế quý khách vui lòng xem trên bao bì.</h6>

          <h6 class="text-danger">
            - Hình sản phẩm chỉ mang tính chất minh họa, hình thực tế bao bì của sản phẩm tùy thời điểm sẽ khác so với thực tế.
          </h6>
        </div>
        <div class="col-7 ">
          <div class="row text-secondary my-3">
            <div class="col-3 ">
              <h6> Xuất Xứ </h6>
            </div>
            <div class="col-9">
              <h6>Việt Nam</h6>
            </div>
            <hr>
          </div>
          <div class="row text-secondary my-3">
            <div class="col-3">
              <h6>Thành Phần</h6>
            </div>
            <div class="col-9">
              <h6>
                Water, Glycerin, Propylene Glycol, Sorbitol, Tetrapotassium, Pyrophosphate, Polysorbate 20, Tetrasodium Pyrophosphate, Zinc Citrate...</h6>
            </div>
            <hr>
          </div>
          <div class="row text-secondary my-3">
            <div class="col-3 mb-2">
              <h6>Hướng Dẫn Sử Dụng </h6>
            </div>
            <div class="col-9">
              <h6>Sản Phẩm có hướng dẫn sử dụng trên bao bì</h6>
            </div>
            <hr>
          </div>
          <div class="row text-secondary mb-5">
            <div class="col-3 mb-2">
              <h6>Bảo Quản</h6>
            </div>
            <div class="col-9">
              <h6>Bảo quản nơi khô ráo thoáng mát, tránh ánh nắng trực tiếp</h6>
            </div>
            <hr>
          </div>
        </div>
      </div>
      <h2 class="mt-5">Sản phẩm liên quan</h2>
      <!--          <div th:each="p:${item.productId}">-->
      <!--            <a th:href="@{|/product/detail/${item.category.categoryId}|}"> [[${item.category.categoryName}]]</a>-->
      <div class="container-fluid">
        <div class="row">
          <div th:each="p : ${product2.subList(0, 4)}"
               class="col-4 col-sm-4 col-md-4 col-lg-3 my-5 d-flex justify-content-center">
            <div class="con">
              <div class="card_box">
                <div>
                  <a th:href="@{|/product/detail/${p.productId}|}">
                    <div th:if="${p.images != null and p.images.size() > 0}">
                      <img th:src="@{'/Image/imageUrl/' + ${p.images[0].imageUrl}}"
                           class="card-img-top "/>
                    </div>
                  </a>
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                      <div th:if="${p.sale != null}" class="d-flex align-items-baseline">
                        <h5 class="text-danger mb-0">[[${p.sale}]].đ</h5>
                        <h6 class="text-secondary text-decoration-line-through ms-2 mb-0">
                          [[${p.price}]].đ</h6>
                      </div>
                      <div th:unless="${p.sale != null}">
                        <h5 class="text-danger mb-0 ">[[${p.price}]].đ</h5>
                      </div>
                    </div>
                    <h5 th:text="${p.description}" class="card-text"></h5>
                    <h6 class="text-success ">Sản phẩm bán trong ngày</h6>
                    <div class="d-grid gap-2 d-md-block">
<!--                      <form id="addToCartForm-[[${p.productId}]]" class="addToCartForm">-->
<!--                        <input type="hidden" name="productId" th:value="${item.productId}"/>-->
<!--                        <input type="hidden" name="quantity" value="1"/>-->
<!--                        &lt;!&ndash; Nút "Thêm vào giỏ hàng" chỉ hiển thị nếu sản phẩm còn hàng &ndash;&gt;-->
<!--                        <button type="submit" class="btn btn-primary"-->
<!--                                th:if="${item.stockQuantity > 0 and username != null}">-->
<!--                          Thêm vào giỏ hàng-->
<!--                        </button>-->

<!--                        &lt;!&ndash; Nút "Hết hàng" hiển thị khi sản phẩm hết hàng &ndash;&gt;-->
<!--                        <button type="button" class="btn btn-secondary"-->
<!--                                th:if="${item.stockQuantity <= 0 and username != null}" disabled>-->
<!--                          Hết hàng-->
<!--                        </button>-->
<!--                        <button type="button" class="btn btn-secondary" th:if="${username == null}" disabled>Đăng nhập</button>-->
<!--                      </form>-->
                    </div>
                  </div>
                </div>
                <span th:if="${p.sale != null}"></span>
              </div>
            </div>
          </div>
        </div>
        <h5 class="text-center text-primary mt-5"><a th:href="@{/layout/Product}">Xem tất cả</a></h5>
      </div>
    </div>
  </div>
</main>
</body>
</html>